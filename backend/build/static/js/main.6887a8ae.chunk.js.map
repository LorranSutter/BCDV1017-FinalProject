{"version":3,"sources":["pages/Admin/styles.module.css","pages/Login/styles.module.css","services/socket.js","pages/Login/index.js","services/api.js","pages/AdminLogin/index.js","pages/Admin/historyTable.js","pages/Admin/historyChat.js","pages/Admin/historySocket.js","pages/Admin/index.js","pages/Rooms/room.js","pages/Rooms/index.js","pages/Chat/message.js","pages/Chat/index.js","pages/Error/index.js","App.js","serviceWorker.js","index.js","pages/AdminLogin/styles.module.css","pages/Chat/styles.module.css","img/opened-door.png","pages/Error/styles.module.css","img/avatarWrong.png","pages/Rooms/styles.module.css"],"names":["module","exports","socket","socketIOClient","baseURL","Login","useState","username","setUsername","avatarUrl","setAvatarUrl","avatarHeight","avatarWidth","setAvatarWidth","useCookies","setCookie","history","useHistory","useEffect","document","body","style","backgroundColor","margin","axios","get","then","res","status","Error","error","usernameAPI","data","results","login","getElementById","height","catch","err","window","addEventListener","className","styles","login_container","content","content_items","avatar","src","width","alt","id","side_container","form","onSubmit","e","preventDefault","push","alert","emit","type","name","placeholder","value","onChange","usernameInput","target","required","to","admin_page","api","create","AdminLogin","setLogin","password","setPassword","post","adminToken","buttons","HistoryTable","props","history_table","historyList","map","elem","key","_id","user","room","message","moment","date","format","HistoryChat","userList","setUserList","roomList","setRoomList","setHistoryList","selectedUser","setSelectedUser","selectedRoom","setSelectedRoom","selectedRoomId","setSelectedRoomId","withCredentials","params","undefined","roomId","history_container","room_filter","selectedRoomIndex","options","selectedIndex","getAttribute","HistorySocket","Admin","historyTableDisplayed","setHistoryTableDisplayed","cookies","removeCookie","handleClickHistoryTableDisplayed","textContent","minWidth","minHeight","header_container","onClick","Room","room_data_container","door_button_container","openedDoor","Enter","Rooms","setAvatar","rooms","setRooms","roomsList","avatar_container","username_container","rooms_container","rooms_list","Message","msgOutput","joinLeftMsg","user_join_left","msg","avatarLink","chat_msg","username_msg_wrapper","username_msg","timestamp_msg","Chat","match","initialized","setInitialized","roomName","setRoomName","msgList","setMsgList","inputMsg","setInputMsg","chatListContainerRef","useRef","inputRef","console","log","chatRoom","current","focus","scrollTop","scrollHeight","on","chat_container","ref","chat_list_container","input_msg_container","chat_form","Date","autoComplete","SomethingWentWrong","container","avatarWrong","Routes","path","exact","component","Boolean","location","hostname","ReactDOM","render","StrictMode","CookiesProvider","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6887a8ae.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"styles_header_container__2kvLw\",\"history_container\":\"styles_history_container__3jNSq\",\"room_filter\":\"styles_room_filter__3Brl_\",\"history_table\":\"styles_history_table__1nMVB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_container\":\"styles_login_container__r7rwd\",\"content\":\"styles_content__dfVy4\",\"content_items\":\"styles_content_items__2YKU3\",\"avatar\":\"styles_avatar__3jV2a\",\"side_container\":\"styles_side_container__QVyRM\",\"form\":\"styles_form__2vWVM\",\"admin_page\":\"styles_admin_page__3rUFK\"};","import socketIOClient from 'socket.io-client';\r\n\r\nimport { baseURL } from './baseURL.json';\r\n\r\nconst socket = socketIOClient(baseURL);\r\n\r\nexport default socket;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport axios from 'axios';\r\n\r\nimport styles from './styles.module.css'\r\nimport socket from '../../services/socket';\r\n\r\nconst Login = () => {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [avatarUrl, setAvatarUrl] = useState('');\r\n    const [avatarHeight] = useState('100%');\r\n    const [avatarWidth, setAvatarWidth] = useState(100);\r\n\r\n    const [cookies, setCookie] = useCookies();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        document.body.style.backgroundColor = \"#49289e\";\r\n        document.body.style.margin = \"0\";\r\n\r\n        axios\r\n            .get('https://randomuser.me/api/?inc=login')\r\n            .then(res => {\r\n                if (res.status === 200) {\r\n                    const usernameAPI = res.data.results[0].login.username;\r\n\r\n                    setUsername(usernameAPI);\r\n                    setAvatarUrl(`https://avatars.dicebear.com/v2/gridy/${usernameAPI}.svg?options[width][]=500&options[height][]=500`);\r\n\r\n                    setAvatarWidth(document.getElementById('avatarImg').height * 1.25);\r\n                } else {\r\n                    const error = new Error(res.error);\r\n                    throw error;\r\n                }\r\n            })\r\n            .catch(err => {\r\n                const error = new Error(err);\r\n                throw error;\r\n            });\r\n\r\n    }, []);\r\n\r\n    // FIXME think in a better way to resize avatar image\r\n    window.addEventListener('resize', function () {\r\n        if (document.getElementById('avatarImg') !== null) {\r\n            setAvatarWidth(document.getElementById('avatarImg').height * 1.25);\r\n        }\r\n    });\r\n\r\n    function handleInputChange(e) {\r\n        const usernameInput = e.target.value;\r\n        setUsername(usernameInput);\r\n        setAvatarUrl(`https://avatars.dicebear.com/v2/gridy/${usernameInput}.svg?options[width][]=500&options[height][]=500`);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            setCookie('username', username);\r\n            setCookie('avatar', avatarUrl);\r\n\r\n            history.push('/rooms');\r\n        } catch (error) {\r\n            alert('Fail to login! Try again.');\r\n        }\r\n\r\n        socket.emit('connected', { username });\r\n    }\r\n\r\n    return (\r\n        <div className={styles.login_container}>\r\n            <div className={styles.content}>\r\n                <div className={styles.content_items}>\r\n                    <div className={styles.avatar}>\r\n                        <img src={avatarUrl} style={{ height: avatarHeight, width: avatarWidth }} alt=\"avatar\" id=\"avatarImg\" />\r\n                    </div>\r\n                    <div className={styles.side_container}>\r\n                        <form className={styles.form} onSubmit={handleSubmit}>\r\n                            <h1>Full Chat</h1>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"username\"\r\n                                id=\"username\"\r\n                                placeholder=\"Username\"\r\n                                value={username}\r\n                                onChange={handleInputChange}\r\n                                required />\r\n                            <button id=\"getStarted\">Get Started</button>\r\n                        </form>\r\n                        <Link to=\"/admin/login\" className={styles.admin_page}>\r\n                            <button>Admin</button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Login;","import axios from 'axios';\r\n\r\nimport { baseURL } from './baseURL.json'\r\n\r\nconst api = axios.create({\r\n    baseURL: baseURL\r\n})\r\n\r\n// api.defaults.withCredentials = true;\r\n\r\n// api.defaults.headers.post['Content-Type'] = 'application/json';\r\n// api.defaults.headers.post['Accept'] = 'application/json';\r\n\r\nexport default api;","import React, { useState, useEffect } from 'react';\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport api from '../../services/api';\r\n\r\nimport styles from './styles.module.css'\r\n\r\nconst AdminLogin = () => {\r\n\r\n    const [login, setLogin] = useState('');\r\n    const [password, setPassword] = useState('');\r\n\r\n    const [cookies, setCookie] = useCookies();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        document.body.style.backgroundColor = \"#e5e5e5\";\r\n        document.body.style.margin = \"0\";\r\n    }, []);\r\n\r\n    function handleLoginChange(e) {\r\n        setLogin(e.target.value);\r\n    }\r\n\r\n    function handlePasswordChange(e) {\r\n        setPassword(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            api\r\n                .post('admin', { login, password })\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        setCookie('adminToken', res.data.adminToken);\r\n\r\n                        history.push('/admin');\r\n                    } else {\r\n                        const error = new Error(res.error);\r\n                        throw error;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    const error = new Error(err);\r\n                    throw error;\r\n                });\r\n        } catch (error) {\r\n            alert('Fail to login! Try again.');\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={styles.login_container}>\r\n            <div className={styles.content}>\r\n                <div className={styles.content_items}>\r\n                    <form className={styles.form} onSubmit={handleSubmit}>\r\n                        <h1>Admin Login</h1>\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"login\"\r\n                            id=\"login\"\r\n                            placeholder=\"Login\"\r\n                            value={login}\r\n                            onChange={handleLoginChange}\r\n                            required />\r\n                        <input\r\n                            type=\"password\"\r\n                            name=\"password\"\r\n                            id=\"password\"\r\n                            placeholder=\"Password\"\r\n                            value={password}\r\n                            onChange={handlePasswordChange}\r\n                            required />\r\n                        <div className={styles.buttons}>\r\n                            <a>\r\n                                <button id=\"buttonLogin\">\r\n                                    Login\r\n                                </button>\r\n                            </a>\r\n                            <Link to=\"/\">\r\n                                <button id=\"buttonCancel\">\r\n                                    Cancel\r\n                                </button>\r\n                            </Link>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AdminLogin;","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport styles from './styles.module.css';\r\n\r\nconst HistoryTable = (props) => {\r\n    return (\r\n        <table className={styles.history_table}>\r\n            <thead>\r\n                <tr>\r\n                    <th id=\"col-username\">Username</th>\r\n                    <th id=\"col-room\">Room</th>\r\n                    <th id=\"col-message\">Message</th>\r\n                    <th id=\"col-date\">Date</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {props.historyList.map(elem => (\r\n                    <tr key={elem._id}>\r\n                        <td>{elem.user}</td>\r\n                        <td>{elem.room && elem.room.name}</td>\r\n                        <td>{elem.message}</td>\r\n                        <td>{moment(elem.date).format('MMM Do YY, hh:mm:ss a')}</td>\r\n                    </tr>\r\n                ))}\r\n            </tbody>\r\n        </table>\r\n    );\r\n}\r\n\r\nexport default HistoryTable;","import React, { useState, useEffect } from 'react';\r\n\r\nimport api from '../../services/api';\r\nimport styles from './styles.module.css';\r\n\r\nimport HistoryTable from './historyTable';\r\n\r\nconst HistoryChat = () => {\r\n    const [userList, setUserList] = useState([]);\r\n    const [roomList, setRoomList] = useState([]);\r\n    const [historyList, setHistoryList] = useState([]);\r\n    const [selectedUser, setSelectedUser] = useState('All users');\r\n    const [selectedRoom, setSelectedRoom] = useState('All rooms');\r\n    const [selectedRoomId, setSelectedRoomId] = useState(null);\r\n\r\n    useEffect(() => {\r\n        api\r\n            .get('admin', { withCredentials: true })\r\n            .then((res) => {\r\n                if (res.status === 200) {\r\n                    setUserList(res.data.userList);\r\n                    setRoomList(res.data.roomList);\r\n                } else {\r\n                    const error = new Error(res.error);\r\n                    throw error;\r\n                }\r\n            })\r\n            .catch(err => {\r\n                const error = new Error(err);\r\n                throw error;\r\n            });\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            api\r\n                .get('/admin/partialHistory',\r\n                    {\r\n                        params: {\r\n                            user: selectedUser === 'All users' ? undefined : selectedUser,\r\n                            roomId: selectedRoomId === 'All rooms' ? undefined : selectedRoomId\r\n                        },\r\n                        withCredentials: true\r\n                    })\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        setHistoryList(res.data);\r\n                    } else {\r\n                        const error = new Error(res.error);\r\n                        throw error;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    const error = new Error(err);\r\n                    throw error;\r\n                });\r\n        } catch (error) {\r\n            alert('Fail to request! Try again.');\r\n        }\r\n\r\n    }, [selectedUser, selectedRoom, selectedRoomId]);\r\n\r\n    function handleChangeRoom(e) {\r\n        const selectedRoomIndex = e.target.options.selectedIndex;\r\n        setSelectedRoomId(e.target.options[selectedRoomIndex].getAttribute('id'));\r\n        setSelectedRoom(e.target.value);\r\n    }\r\n\r\n    return (\r\n        <main className={styles.history_container}>\r\n            <div className={styles.room_filter}>\r\n                <select\r\n                    name=\"user-list\"\r\n                    id=\"User-list\"\r\n                    value={selectedUser}\r\n                    onChange={e => setSelectedUser(e.target.value)}>\r\n                    <option key={0} value={undefined}>All users</option>\r\n                    {userList.map((user, key) => (\r\n                        <option key={key + 1} value={user}>{user}</option>\r\n                    ))}\r\n                </select>\r\n                <select\r\n                    name=\"Room-list\"\r\n                    id=\"Room-list\"\r\n                    value={selectedRoom}\r\n                    onChange={handleChangeRoom}>\r\n                    <option key={0} id={undefined} value={undefined}>All rooms</option>\r\n                    {roomList.map(room => (\r\n                        <option key={room._id} id={room._id} value={room.name}>{room.name}</option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n            <div id=\"history-container\">\r\n                <HistoryTable historyList={historyList}></HistoryTable>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default HistoryChat;","import React, { useState, useEffect } from 'react';\r\n\r\nimport api from '../../services/api';\r\nimport styles from './styles.module.css';\r\n\r\nimport HistoryTable from './historyTable';\r\n\r\nconst HistorySocket = () => {\r\n    const [historyList, setHistoryList] = useState([]);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            api\r\n                .get('/admin/socketEvents', { withCredentials: true })\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        setHistoryList(res.data);\r\n                    } else {\r\n                        const error = new Error(res.error);\r\n                        throw error;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    const error = new Error(err);\r\n                    throw error;\r\n                });\r\n        } catch (error) {\r\n            alert('Fail to request! Try again.');\r\n        }\r\n\r\n    }, []);\r\n\r\n    return (\r\n        <main className={styles.history_container}>\r\n            <div id=\"history-container\">\r\n                <HistoryTable historyList={historyList}></HistoryTable>\r\n            </div>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default HistorySocket;","import React, { useState, useEffect } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport styles from './styles.module.css';\r\n\r\nimport HistoryChat from './historyChat';\r\nimport HistorySocket from './historySocket';\r\n\r\nconst Admin = () => {\r\n\r\n    const [historyTableDisplayed, setHistoryTableDisplayed] = useState(null);\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n\r\n        if (!cookies.adminToken) {\r\n            history.push('/somethingWenWrong');\r\n            return function cleanup() {}\r\n        }\r\n\r\n        document.body.style.backgroundColor = \"#e5e5e5\";\r\n        document.body.style.minWidth = \"350px\";\r\n        document.body.style.minHeight = \"475px\";\r\n        document.body.style.margin = \"2em 3em\";\r\n\r\n        setHistoryTableDisplayed(<HistoryChat></HistoryChat>);\r\n\r\n    }, []);\r\n\r\n    // TODO improve, because it is ugly\r\n    function handleClickHistoryTableDisplayed(e) {\r\n        if (e.target.textContent === 'History Chat') {\r\n            setHistoryTableDisplayed(<HistoryChat></HistoryChat>);\r\n        } else {\r\n            setHistoryTableDisplayed(<HistorySocket></HistorySocket>);\r\n        }\r\n    }\r\n\r\n    function handleClickLogout(e) {\r\n        e.preventDefault();\r\n\r\n        removeCookie('adminToken');\r\n\r\n        history.push('/admin/login');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <header className={styles.header_container}>\r\n                <h2>Admin Room</h2>\r\n                <div>\r\n                    <button onClick={handleClickHistoryTableDisplayed}>History Chat</button>\r\n                    <button onClick={handleClickHistoryTableDisplayed}>Socket Events</button>\r\n                    <button onClick={handleClickLogout}>Logout</button>\r\n                </div>\r\n            </header>\r\n            {historyTableDisplayed}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Admin;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport styles from './styles.module.css'\r\nimport openedDoor from '../../img/opened-door.png';\r\n\r\nconst Room = (props) => {\r\n\r\n    const history = useHistory();\r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n\r\n        history.push(`/chat/${props.roomId}`);\r\n    }\r\n\r\n    return (\r\n        <li>\r\n            <div className={styles.room_data_container}>\r\n                <h2>{props.name}</h2>\r\n            </div>\r\n            <div className={styles.door_button_container}>\r\n                <button onClick={handleClick}>\r\n                    <img src={openedDoor} alt=\"Get into the room\" />\r\n                    <span className={styles.Enter}>Enter</span>\r\n                </button>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Room;","import React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport api from '../../services/api';\r\nimport socket from '../../services/socket';\r\n\r\nimport styles from './styles.module.css'\r\nimport Room from './room';\r\n\r\nconst Rooms = () => {\r\n\r\n    const [username, setUsername] = useState('');\r\n    const [avatar, setAvatar] = useState('');\r\n    const [rooms, setRooms] = useState([]);\r\n\r\n    const [cookies, setCookie, removeCookie] = useCookies();\r\n\r\n    const history = useHistory();\r\n\r\n    useEffect(() => {\r\n        document.body.style.backgroundColor = \"#e5e5e5\";\r\n        document.body.style.minWidth = \"350px\";\r\n        document.body.style.margin = \"0\";\r\n\r\n        if (!cookies.username || !cookies.avatar) {\r\n            history.push('/somethingWentWrong');\r\n            return function cleanup() { }\r\n        }\r\n\r\n        setUsername(cookies.username);\r\n        setAvatar(cookies.avatar);\r\n\r\n        try {\r\n            api\r\n                .get('rooms')\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        setRooms(res.data.roomsList);\r\n                    } else {\r\n                        const error = new Error(res.error);\r\n                        throw error;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    const error = new Error(err);\r\n                    throw error;\r\n                });\r\n        } catch (error) {\r\n            alert('Fail to login! Try again.');\r\n        }\r\n    }, []);\r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n\r\n        socket.emit('disconnected', { username: username });\r\n\r\n        removeCookie('username');\r\n        removeCookie('avatar');\r\n\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <header className={styles.header_container}>\r\n                <div className={styles.avatar_container}>\r\n                    <div className={styles.username_container}>\r\n                        <h2>{username}</h2>\r\n                        <button id=\"change-username\" onClick={handleClick}>Change Username</button>\r\n                    </div>\r\n                    <div className={styles.avatar}>\r\n                        <img src={avatar} alt=\"avatar\" id=\"avatarImg\" />\r\n                    </div>\r\n                </div>\r\n            </header>\r\n            <main className={styles.rooms_container}>\r\n                <ul className={styles.rooms_list}>\r\n                    {rooms.map(room => (\r\n                        <Room key={room._id} name={room.name} roomId={room._id}></Room>\r\n                    ))}\r\n                </ul>\r\n            </main>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Rooms;","import React from 'react';\r\nimport moment from 'moment';\r\n\r\nimport styles from './styles.module.css';\r\n\r\nconst Message = (props) => {\r\n\r\n    let msgOutput;\r\n\r\n    if (props.joinLeftMsg) {\r\n        msgOutput = (\r\n            <span className={styles.user_join_left}>{`${props.user} ${props.msg}`}</span>\r\n        );\r\n    } else {\r\n\r\n        const avatarLink = `https://avatars.dicebear.com/v2/gridy/${props.user}.svg?options[width][]=500&options[height][]=500`;\r\n\r\n        msgOutput = (\r\n            <div className={styles.chat_msg}>\r\n                <img src={avatarLink} alt=\"Avatar\" />\r\n                <div className={styles.username_msg_wrapper}>\r\n                    <span className={styles.username_msg}>{props.user}</span>\r\n                    <span className={styles.msg}>{props.msg}</span>\r\n                </div>\r\n                <div className={styles.timestamp_msg}>\r\n                    <span>{moment(props.date).format('MMM Do YY')}</span>\r\n                    <span>{moment(props.date).format('hh:mm:ss a')}</span>\r\n                </div>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n    return (\r\n        <>\r\n        { msgOutput }\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Message;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useCookies } from 'react-cookie';\r\n\r\nimport api from '../../services/api';\r\nimport socket from '../../services/socket';\r\n\r\nimport styles from './styles.module.css'\r\nimport Message from './message';\r\n\r\nconst Chat = ({ match }) => {\r\n\r\n    const [initialized, setInitialized] = useState(false);\r\n    const [roomName, setRoomName] = useState('');\r\n    const [username, setUsername] = useState('');\r\n    const [msgList, setMsgList] = useState([]);\r\n    const [inputMsg, setInputMsg] = useState('');\r\n    const chatListContainerRef = useRef(null);\r\n    const inputRef = useRef(null);\r\n\r\n    const [cookies, setCookie] = useCookies();\r\n\r\n    const history = useHistory();\r\n\r\n    // TODO Authenticate cookie user\r\n    useEffect(() => {\r\n\r\n        console.log('here2');\r\n        console.log(cookies)\r\n        console.log(cookies)\r\n        // if (!cookies.username || !cookies.avatar) {\r\n        //     history.push('/');\r\n        //     // return function cleanup() { }\r\n        // }\r\n\r\n        if (!initialized) {\r\n            document.body.style.backgroundColor = \"#e5e5e5\";\r\n            document.body.style.minWidth = \"350px\";\r\n            document.body.style.minHeight = \"475px\";\r\n            document.body.style.margin = \"0\";\r\n\r\n            api\r\n                .get(`/chat/${match.params.roomId}`)\r\n                .then(res => {\r\n                    if (res.status === 200) {\r\n                        setUsername(cookies.username)\r\n                        setRoomName(res.data.chatRoom.name);\r\n                        setMsgList(res.data.msgList);\r\n\r\n                        socket.emit('joinRoom', { username: cookies.username, room: match.params.roomId });\r\n\r\n                        inputRef.current.focus();\r\n                        chatListContainerRef.current.scrollTop = chatListContainerRef.current.scrollHeight;\r\n                    } else {\r\n                        const error = new Error(res.error);\r\n                        throw error;\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    const error = new Error(err);\r\n                    throw error;\r\n                });\r\n\r\n            setInitialized(true);\r\n        }\r\n\r\n        socket.on('message', message => {\r\n            setMsgList([...msgList, message]);\r\n        });\r\n\r\n        socket.on('messageJoinLeft', message => {\r\n            message['joinLeftMsg'] = true;\r\n            setMsgList([...msgList, message]);\r\n        });\r\n    });\r\n\r\n    useEffect(() => {\r\n        chatListContainerRef.current.scrollTop = chatListContainerRef.current.scrollHeight;\r\n    }, [msgList]);\r\n\r\n    function handleClick(e) {\r\n        e.preventDefault();\r\n\r\n        socket.emit('leftRoom', { username: username, room: match.params.roomId });\r\n\r\n        history.push('/rooms');\r\n    }\r\n\r\n    function handleChange(e) {\r\n        setInputMsg(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if (inputMsg) {\r\n            const data = {\r\n                user: username,\r\n                room: match.params.roomId,\r\n                message: inputMsg,\r\n                date: new Date()\r\n            }\r\n\r\n            socket.emit('chatMessage', data);\r\n\r\n            setInputMsg('');\r\n            inputRef.current.focus();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <header className={styles.header_container}>\r\n                <h2>{roomName}</h2>\r\n                <button onClick={handleClick}>Change Room</button>\r\n            </header>\r\n            <main className={styles.chat_container}>\r\n                <div ref={chatListContainerRef} className={styles.chat_list_container}>\r\n                    {msgList.map((msg, key) => (\r\n                        <Message\r\n                            key={msg._id || key}\r\n                            user={msg.user}\r\n                            msg={msg.message}\r\n                            date={msg.date}\r\n                            joinLeftMsg={msg.joinLeftMsg} >\r\n                        </Message>\r\n                    ))}\r\n                </div>\r\n                <div className={styles.input_msg_container}>\r\n                    <form id=\"chat-form\" className={styles.chat_form} onSubmit={handleSubmit}>\r\n                        <input\r\n                            type=\"text\"\r\n                            name={styles.msg}\r\n                            id=\"msg\"\r\n                            placeholder=\"Write your message...\"\r\n                            autoComplete=\"off\"\r\n                            ref={inputRef}\r\n                            value={inputMsg}\r\n                            onChange={handleChange} />\r\n                        <button>Send</button>\r\n                    </form>\r\n                </div>\r\n            </main>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Chat;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nimport styles from './styles.module.css';\r\nimport avatarWrong from '../../img/avatarWrong.png';\r\n\r\nconst SomethingWentWrong = () => {\r\n\r\n    const history = useHistory();\r\n\r\n    function handleClick(e) {\r\n        history.push('/');\r\n    }\r\n\r\n    return (\r\n        <div className={styles.container}>\r\n            <img src={avatarWrong} alt=\"Wrong\" />\r\n            <h1>Something Went Wrong</h1>\r\n            <button onClick={handleClick}>Go to initial page</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default SomethingWentWrong;","import React from 'react';\r\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\r\n\r\nimport Login from './pages/Login';\r\nimport AdminLogin from './pages/AdminLogin';\r\nimport Admin from './pages/Admin';\r\nimport Rooms from './pages/Rooms';\r\nimport Chat from './pages/Chat';\r\nimport SomethingWentWrong from './pages/Error';\r\n\r\nexport default function Routes() {\r\n  return (\r\n    <BrowserRouter>\r\n      <Switch>\r\n        <Route path='/' exact component={Login} />\r\n        <Route path='/index' exact component={Login} />\r\n        <Route path='/login' exact component={Login} />\r\n        <Route path='/admin/login' component={AdminLogin} />\r\n        <Route path='/admin' component={Admin} />\r\n        <Route path='/rooms' component={Rooms} />\r\n        <Route path='/chat/:roomId' component={Chat} />\r\n        <Route path='/somethingWentWrong' component={SomethingWentWrong}/>\r\n        <Route component={SomethingWentWrong}/>\r\n      </Switch>\r\n    </BrowserRouter>\r\n  );\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { CookiesProvider } from 'react-cookie';\r\n\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <CookiesProvider>\r\n      <App />\r\n    </CookiesProvider>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login_container\":\"styles_login_container__w_cdC\",\"content\":\"styles_content__3junv\",\"content_items\":\"styles_content_items__sPFbm\",\"form\":\"styles_form__3ivsk\",\"buttons\":\"styles_buttons__36cfw\",\"side-container\":\"styles_side-container__3IylG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"styles_header_container__3S_Av\",\"chat_container\":\"styles_chat_container__2pZzn\",\"chat_list_container\":\"styles_chat_list_container__3YVRW\",\"chat_msg\":\"styles_chat_msg__2H9Le\",\"username_msg_wrapper\":\"styles_username_msg_wrapper__3UJ9n\",\"username_msg\":\"styles_username_msg__1i2AL\",\"timestamp_msg\":\"styles_timestamp_msg__2rnnq\",\"user_join_left\":\"styles_user_join_left__QW8m0\",\"input_msg_container\":\"styles_input_msg_container__3P_Ia\",\"chat_form\":\"styles_chat_form__2FrId\"};","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASUAAAHtCAYAAABf3GiuAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAOxAAADsQBlSsOGwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAyBSURBVHic7d3Pq6bnXcfxz1VTrEH8UWtQEHHlyloVRRRX0o12qwiF/gNKVi6KigtRxNo/wEXrL1AQCtKFuHDhQlDbtNPMJDPTkJZKRuq0NjVN06TJ5Mft4szQc2aeM5lz5n6e+3Pf5/WCwIHJXNc3m3fu+5zrOs8Is5qm6bEkzyS5nuTS7X+uJbk2xnh1ydlgDcbSA2zN7Sh9dccfvZ7kCzkK1J1gXRtjfOmA40E9UZrZfaJ0mhdyLFJ3vh5jfHsP40E9UZrZOaK0yxtJbuTeV8D/GmNMD7k2VBOlmc0UpdN8I7e/P5XvBOvJMcbLe9oPDk6UZrbnKO3yZpLncu8r4HVPVayRKM1sgSid5ps5+sb68VfAy2OMby06FbwNUZpZUZROczN3fVM9yefHGG8tOhXcJkozW0GUdnkpybM5+Qp4eYzx/KJTcSGJ0sxWGqXT3MzJJ6pLSZ4ZY7y56FRsmijNbGNR2uVWki/m5CvgE2OMLf83c0CiNLMLEKXT3P1UdS3J1THGa4tOxeqI0swucJR22XW15rNjjJuLTkU1UZqZKD0QV2s4lSjNTJTO7Y0c/QTQheULTpRmJkqz23W15nNjjFcWnYq9EaWZidJBuFqzYaI0M1Fa1ItJrubkU5WrNSsjSjMTpUqu1qyIKM1MlFbD1ZpSojQzUVq9XU9VrtYc0Jim6f1LD7ExP5DkE0sPwaxezlGkriR5OslTSZ4aY7yw6FQbNaZp8tMKOB9Xa/ZAlGBed67WHH8F/MwY4yuLTrUiogSHsetqzWd9FuC9RAmW42rNDqIEfe5crTn+VHVhrtaIEqzD3Z8FuNmrNaIE67bras2qPwtQlGCb7hwCPf5UtYqrNaIEF8euqzVPjjG+vuhUdxEloOrCsigBuxz/1Jo7wboyxvjavjcWJeAsdl2teXqMcWuuDUQJeFizXq0RJWBfjl+tuROsa293tUaUgEPa9VmAJ67WiBLQ4H9z9HuqrogSUOUdSw8AcJwoAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQ5ZGF9/+TJJ9ceIa5vTvJvyw9BKzV0lG6Mca4tPAMs5qm6bGlZ4A18/oGVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQRZSAKqIEVBEloIooAVVECagiSkAVUQKqiBJQ5ZGlB2Cv3kry6ST/meRGkteSPJbkfUnen+T7lhsNdhOlbXozyV8k+egY48auf2Gapncl+WCSP0ryYwecDe7L69v2PJfkV8cYj58WpCQZY7w6xvirJD+V5O8ONh28DVHalk8ned8Y498e9C+MMV4cY3woyYf3NxY8OFHajmtJPjDGePE8f3mM8edJ/nTekeDsRGkbvpnk18cYX3+YRcYYf5DkH+cZCc5HlLbh9+/3/aMz+p0k35hpLTgzUVq/z+ToJ22zGGN8JckfzrUenJUord9Hxxhvzbzmx5J8beY14YGI0rrdTPLJuRcdY7yW5G/mXhcehCit29+OMV7f09of39O6cF+itG7/uq+FxxjPJvnvfa0PpxGl9Xojyaf2vMe/73l9uIcordfVMcZLe97jP/a8PtxDlNbrywfY438OsAecIErr9fxG9oATRGm9/u8Ae4gSBydK63WI34X1zgPsASeI0nq9ZyN7wAmitF4/dIA9RImDE6X1+omN7AEniNJ6/eQ0TT+y5z1+Zc/rwz1Ead1+eV8LT9P0jiS/tK/14TSitG6/tse1fzHJu/e4PuwkSuv2wWmafnBPa//2ntaF+xKldXs0yYfmXnSapvck+Y2514UHIUrr97vTNH3vzGv+XpJ3zbwmPBBRWr8fT/LHcy02TdNPJ3l8rvXgrERpGx6fpumhf3w/TdP3JPnruF7CgkRpG74ryT9N0/Qz511gmqZ3JvlEkp+bbSo4B1Haju9P8s+3X7/OZJqmR5P8fZIPzD4VnJEobcuPJnlimqYP3z78+LamaXpvjn6t7m/udTJ4QKK0Pd+d5M+SfGqapt+6/X2ie0zT9PPTNP1lkktJ3nvIAeF+DvE7eVjGLyT5hySvTNN0OclzSW4l+eEkP5ujpyqoI0rb92iO7sjt7Z4czMnrG1BFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqCJKQBVRAqqIElBFlIAqogRUESWgiigBVUQJqPJIko8suP+VBfcGetxKci3JU2PpSbZmmqbHknx16Tmg2M0cBeh6kku3v746xngtOXpSAtiHW0m+mO+E53qSJ8YY9/2ftigBc7iZk/G5lOSZMcabZ11IlICzeCnJszn56nV5jPH8XBuIEnCaO08/x5+APj/GeGufm4oS8GKSqzn56vXkGOPlJYYRJbg43khyIydfva4nuT7GmJYc7DhRgm16IffG59IY49uLTvUARAnW7fUkX8hd537GGF9adKqHIEqwHseffu48AV0bY7y66FQzEyXoc65Dh1shSrCsu69cnPvQ4VaIEhzG3g8dboUowfx2XbnY+6HDrRAlOL+qQ4dbIUrw9lZx6HArRAlO2nXo8HNjjFcWneoCESUuqs0dOtwKUeIiuBCHDrdClNiSC33ocCtEibVy6HCjRIl2Dh1eMKJEE4cOESUWsevQ4eUxxrcWnYoKosQ+OXTImYkSc3HokFmIEmfl0CF7JUrcj0OHHJwokTh0SBFRungcOqSaKG2XQ4eskihtg0OHbIYorYtDh2yeKHVy6JALS5SW59AhHCNKh+PQITwAUdqPLyd5OsmVJE/d/vqZMcbri04FK/D/SNT9S5DIxtYAAAAASUVORK5CYII=\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__sz6w_\"};","module.exports = __webpack_public_path__ + \"static/media/avatarWrong.80ebd09f.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header_container\":\"styles_header_container__3VCWm\",\"avatar_container\":\"styles_avatar_container__3HNOR\",\"username_container\":\"styles_username_container__2NnBr\",\"avatar\":\"styles_avatar__26pOK\",\"rooms_container\":\"styles_rooms_container__1vLmF\",\"rooms_list\":\"styles_rooms_list__3ZU-n\",\"room_data_container\":\"styles_room_data_container__2rAjh\",\"door_button_container\":\"styles_door_button_container__2cIdL\",\"Enter\":\"styles_Enter__1AhvT\"};"],"sourceRoot":""}